<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva Piscina - Condominio</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="icon">ğŸŠâ€â™‚ï¸</div>
            <h1>Reserva tu Turno</h1>
            <p>Piscina del Condominio</p>
        </header>

        <div id="formReserva" class="card">
            <div class="form-group">
                <label>Departamento</label>
                <input type="text" id="dpto" placeholder="Ej: T3-101" maxlength="10">
            </div>

            <div class="form-group">
                <label>ğŸ“… Fecha</label>
                <input type="date" id="fecha">
            </div>

            <div class="form-group">
                <label>ğŸ• Horario</label>
                <select id="horario">
                    <option value="">Seleccione horario</option>
                    <option value="09:00-10:50">09:00 - 10:50</option>
                    <option value="11:00-12:50">11:00 - 12:50</option>
                    <option value="15:00-16:50">15:00 - 16:50</option>
                    <option value="17:00-18:50">17:00 - 18:50</option>
                    <option value="19:00-20:50">19:00 - 20:50 (Solo adultos)</option>
                </select>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Propietarios</label>
                    <input type="number" id="propietarios" value="1" min="1" max="5">
                    <small>S/ 4.00 c/u</small>
                </div>
                <div class="form-group">
                    <label>Invitados</label>
                    <input type="number" id="invitados" value="0" min="0" max="2">
                    <small>S/ 5.00 c/u</small>
                </div>
            </div>

            <div class="total-box">
                <span>Total a Pagar:</span>
                <span class="total" id="totalPago">S/ 4.00</span>
            </div>

            <div class="normas-box">
                <button type="button" onclick="toggleNormas()" class="normas-toggle">
                    ğŸ“‹ Normas de Uso <span id="normasIcon">â–¼</span>
                </button>
                <ul id="normasList" style="display:none;">
                    <li>âœ“ Ducharse antes de ingresar</li>
                    <li>âœ“ Solo flotadores pequeÃ±os permitidos</li>
                    <li>âœ“ Prohibido shampoo o jabÃ³n en la piscina</li>
                    <li>âœ“ No se permiten comidas ni bebidas (solo agua)</li>
                    <li>âœ“ Prohibidas pelotas y juegos bruscos</li>
                    <li>âœ“ No correr en el Ã¡rea de piscina</li>
                    <li>âœ“ No usar ascensores con ropa mojada</li>
                    <li>âœ“ Respetar estrictamente los horarios</li>
                    <li>âœ“ MÃ¡ximo 2 invitados por departamento</li>
                    <li>âœ“ Menores siempre acompaÃ±ados por adultos</li>
                    <li>âœ“ Horario 19:00-20:50 exclusivo para adultos</li>
                </ul>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="aceptoNormas">
                <label for="aceptoNormas">Acepto las normas de uso de la piscina</label>
            </div>

            <div id="mensaje" class="mensaje"></div>

            <button onclick="generarReserva()" class="btn-primary">
                ğŸŠâ€â™‚ï¸ Confirmar Reserva
            </button>

            <div class="btn-row">
                <a href="admin.html" class="btn-secondary">ğŸ” Admin</a>
                <a href="scan.html" class="btn-secondary">ğŸ“± Escanear QR</a>
            </div>
        </div>

        <div id="qrResult" class="card" style="display:none;">
            <div class="success-icon">âœ…</div>
            <h2>Â¡Reserva Confirmada!</h2>
            
            <div class="qr-box">
                <div id="qrcode"></div>
                <div class="qr-text" id="qrText"></div>
            </div>

            <div class="info-box">
                <p><strong>Departamento:</strong> <span id="resumenDpto"></span></p>
                <p><strong>Fecha:</strong> <span id="resumenFecha"></span></p>
                <p><strong>Horario:</strong> <span id="resumenHorario"></span></p>
                <p><strong>Personas:</strong> <span id="resumenPersonas"></span></p>
                <p><strong>Total:</strong> <span id="resumenTotal" class="highlight"></span></p>
            </div>

            <div class="warning-box">
                âš ï¸ Recuerde realizar el pago en administraciÃ³n antes de su turno
            </div>

            <button onclick="nuevaReserva()" class="btn-primary">
                Nueva Reserva
            </button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/app.js"></script>
</body>

</html>

